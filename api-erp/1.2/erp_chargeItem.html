<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: gematik API</title>
    <link rel="canonical" href="https://spilikin.dev/api-tools/api-erp/1.2/erp_chargeItem.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://spilikin.dev/api-tools">gematik API</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="https://github.com/gematik/"><img style="height: 1.4em;margin-right: 0.4em;" src="../../_/img/github-mark-white.svg"> GiHub</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/gematik/api-telematik">Telematik API</a>
            <a class="navbar-item" href="https://github.com/gematik/api-erp">eRP API</a>
            <a class="navbar-item" href="https://github.com/gematik/api-epa">ePA API</a>
            <a class="navbar-item" href="https://github.com/gematik/api-kim/">KIM API</a>
            <a class="navbar-item" href="https://github.com/gematik/api-ti-messenger/">TI-Messenger API</a>
            <a class="navbar-item" href="https://github.com/gematik/api-vzd/">Directory API</a>
          </div>
        </div>
        <a class="navbar-item" href="https://fachportal.gematik.de/">Fachportal</a>
        <div class="navbar-item" style="scale: 1;">
          <span class="control">
            <img class="logo" src="../../_/img/gematik_logo_text.svg">
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="api-erp" data-version="1.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">ePrescription API</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">index.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ePrescription API</span>
    <span class="version">1.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">ePrescription API</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../api-directory-fhir/1.0.0/index.html">FHIR Directory API</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../api-directory-fhir/1.0.0/index.html">1.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../api-directory-ldap/1.7.0/index.html">LDAP Directory API</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../api-directory-ldap/1.7.0/index.html">1.7.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../api-telematik/5.5.0/overview/index.html">Telematik API</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../api-telematik/5.5.0/overview/index.html">5.5.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../api-ti-messenger/1.1.0/index.html">TI-Messenger API</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../api-ti-messenger/1.1.0/index.html">1.1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../api-telematik/5.5.0/overview/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/spilikin/poc-api-telematik/edit/erp/src/antora/modules/ROOT/pages/erp_chargeItem.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="paragraph">
<p><span class="image"><img src="_images/gematik_logo.png" alt="gematik logo" width="35%"></span></p>
</div>
<div class="sect1">
<h2 id="_e_rezept_api_dokumentation_für_die_pkv_abrechnungsinformationen"><a class="anchor" href="#_e_rezept_api_dokumentation_für_die_pkv_abrechnungsinformationen"></a>E-Rezept API-Dokumentation für die PKV-Abrechnungsinformationen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hier dokumentiert die gematik die Nutzung der Schnittstellen rund um das E-Rezept für die elektronische Verarbeitung und Speicherung von Abrechnungsinformationen für PKV-Versicherte.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_profilierung"><a class="anchor" href="#_profilierung"></a>Profilierung</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Für diesen Anwendungsfall wird die FHIR-Ressource "ChargeItem": <a href="http://hl7.org/fhir/chargeitem.html" class="bare">http://hl7.org/fhir/chargeitem.html</a> profiliert.
Die Profile können als JSON- oder XML-Datei hier eingesehen werden: <a href="https://simplifier.net/erezept-patientenrechnung/gem-erpchrg-pr-chargeitem" class="bare">https://simplifier.net/erezept-patientenrechnung/gem-erpchrg-pr-chargeitem</a></p>
</div>
<div class="paragraph">
<p>Die für diese Anwendung wichtigen Attribute und Besonderheiten durch die Profilierung der Ressourcen werden in der folgenden Tabelle kurz zusammengefasst:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Beschreibung</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><strong>ChargeItem</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension.markingFlag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolsche Werte für den Versicherten zum Markieren, ob das ChargeItem bei Institutionen eingereicht wurde</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">identifier.PrescriptionId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID des ChargeItems, zugleich Rezept-ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">identifier.AccessCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geheimnis zum Ändern des ChargeItems</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status des ChargeItems. Fester Wert auf "billable"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pflichtfeld, welches nicht verwendet wird. Verwenden Sie das Codesystem <a href="http://terminology.hl7.org/CodeSystem/data-absent-reason#not-applicable" class="bare">http://terminology.hl7.org/CodeSystem/data-absent-reason#not-applicable</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subject</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versicherten-ID des PKV-Patienten</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enterer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Telematik-ID der abgebenden LEI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enteredDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zeitstempel der Erstellung eines ChargeItem</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">supportingInformation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Referenz auf die drei Bestandteile der Abrechnungsinformationen (Verordnungs-, Abgabedatensatz und die Quittung)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In den folgenden Kapiteln wird erläutert, wann und wie die Befüllung dieser Attribute erfolgt.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anwendungsfall_pkv_abrechnungsinformationen_durch_den_abgebenden_leistungserbringer_bereitstellen"><a class="anchor" href="#_anwendungsfall_pkv_abrechnungsinformationen_durch_den_abgebenden_leistungserbringer_bereitstellen"></a>Anwendungsfall PKV-Abrechnungsinformationen durch den abgebenden Leistungserbringer bereitstellen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Als Apotheker möchte ich dem Versicherten seine Abrechnungsinformationen bereitstellen. Die Abrechnungsinformationen werden über die FHIR-Ressource "ChargeItem" abgebildet. Das ChargeItem enthält Referenzen auf die dazugehörenden Datensätze (als Bundle abgebildet), Verordnungsdatensatz, Abgabedatensatz und die Quittung.
Der Abgabedatensatz wird als Contained-Objekt in dem ChargeItem mitgegeben. Der E-Rezept-Fachdienst extrahiert dieses Binary, speichert es gesondert ab und erstellt eine Referenz in der ChargeItem-Resource.
Das Attribut "ChargeItem.Code" ist nach dem FHIR-Standard ein Pflichtfeld, wird aber in diesem Kontext fachlich nicht benötigt. Deshalb wird hier ein Platzhalter-Codesystem angewendet.</p>
</div>
<div class="paragraph">
<p>Der Aufruf erfolgt als http-<code>POST</code>-Operation auf die Ressource <code>/ChargeItem</code>. Im http-Request-Header Authorization muss das während der Authentisierung erhaltene ACCESS_TOKEN übergeben werden. Als URL-Parameter ?secret=…​ muss das beim Abrufen des E-Rezepts (<code>$accept</code>) im Task generierte Secret für die Berechtigungsprüfung übergeben werden.</p>
</div>
<div class="paragraph">
<p><strong>Request</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">URI</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://prescriptionserver.telematik/ChargeItem?task=200.086.824.605.539.20&amp;secret=c36ca26502892b371d252c99b496e31505ff449aca9bc69e231c58148f6233cf" class="bare">https://prescriptionserver.telematik/ChargeItem?task=200.086.824.605.539.20&amp;secret=c36ca26502892b371d252c99b496e31505ff449aca9bc69e231c58148f6233cf</a> <br>
Mit dem Parameter <code>task=&#8230;&#8203;</code> wird die Zuordnung zum Task des eingelösten Rezepts hergestellt.<br>
Zum Nachweis als berechtigte Apotheke, die das E-Rezept gerade in Bearbeitung hält, muss im URL-Parameter <code>secret</code> das beim Abrufen generierte Secret übergeben werden.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Method</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>POST</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">HTTP Header</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>Content-Type: application/fhir+xml; charset=UTF-8
Authorization: Bearer eyJraWQ.ewogImL2pA10Qql22ddtutrvx4FsDlz.rHQjEmB1lLmpqn9J</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Mit dem ACCESS_TOKEN im <code>Authorization</code>-Header weist sich der Zugreifende als Apotheke aus, im Token ist die <code>TelematikID</code> und <code>professionOID</code> für die Rollenprüfung enthalten. Die Base64-Darstellung des Tokens ist stark gekürzt.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Im http-Header des äußeren http-Requests an die VAU (POST /VAU) sind die Header <code>X-erp-user: l</code> (kleines L) und <code>X-erp-resource: ChargeItem</code> zu setzen.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ChargeItem xmlns="http://hl7.org/fhir"&gt;
    &lt;meta&gt;
        &lt;profile value="https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_PR_ChargeItem|1.0" /&gt;
    &lt;/meta&gt;
    &lt;contained&gt;
        &lt;Binary&gt;
            &lt;id value="Abg123"/&gt;
            &lt;!--Hier kommt das Abgabdedatensatz-Bundle rein. Siehe https://simplifier.net/erezeptabgabedatenpkv --&gt;
        &lt;/Binary&gt;
    &lt;/contained&gt;
    &lt;identifier&gt;
        &lt;system value="https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId" /&gt;
        &lt;value value="200.086.824.605.539.20" /&gt;
    &lt;/identifier&gt;
    &lt;status value="billable" /&gt;
    &lt;code&gt;
        &lt;coding&gt;
            &lt;system value="http://terminology.hl7.org/CodeSystem/data-absent-reason" /&gt;
            &lt;code value="not-applicable" /&gt;
        &lt;/coding&gt;
    &lt;/code&gt;
    &lt;subject&gt;
        &lt;identifier&gt;
            &lt;value value="X234567890" /&gt;
            &lt;assigner&gt;
                &lt;display value="Name einer privaten Krankenversicherung" /&gt;
            &lt;/assigner&gt;
        &lt;/identifier&gt;
    &lt;/subject&gt;
    &lt;enterer&gt;
        &lt;identifier&gt;
            &lt;system value="https://gematik.de/fhir/sid/telematik-id" /&gt;
            &lt;value value="3-15.2.1456789123.191" /&gt;
        &lt;/identifier&gt;
    &lt;/enterer&gt;
    &lt;enteredDate value="2022-06-01T07:13:00+05:00"/&gt;
    &lt;supportingInformation&gt;
        &lt;reference value="#Abg123"/&gt;
        &lt;type value="DAV-PKV-PR-ERP-AbgabedatenBundle"/&gt;
        &lt;display value="Abgabedatensatz" /&gt;
    &lt;/supportingInformation&gt;
&lt;/ChargeItem&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
In <code>&lt;id value="Abg123"/&gt;</code> befindet sich der Abgabgedatensatz als Contained-Bundle. Das Contained-Bundle wird später durch den Fachdienst als eigenständiges Bundle in "supportingInformation" referenziert.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
In <code>&lt;value value="X234567890"/&gt;</code> findet sich die Angabe eines PKV-Identifier.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<code>&lt;reference value="#Abg123"/&gt;</code> enthält die Referenz auf das Contained-Objekt.
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">HTTP/1.1 201 Created
Content-Type: application/fhir+xml;charset=utf-8

&lt;ChargeItem xmlns="http://hl7.org/fhir"&gt;
    &lt;id value="abc825bc-bc30-45f8-b109-1b343fff5c45" /&gt;
    &lt;meta&gt;
        &lt;profile value="https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_PR_ChargeItem\|1.0" /&gt;
        &lt;tag&gt;
            &lt;display value="Example of an ChargeItem." /&gt;
        &lt;/tag&gt;
    &lt;/meta&gt;
    &lt;identifier&gt;
        &lt;system value="https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId" /&gt;
        &lt;value value="200.086.824.605.539.20" /&gt;
    &lt;/identifier&gt;
    &lt;status value="billable" /&gt;
    &lt;code&gt;
        &lt;coding&gt;
            &lt;system value="http://terminology.hl7.org/CodeSystem/data-absent-reason" /&gt;
            &lt;code value="not-applicable" /&gt;
        &lt;/coding&gt;
    &lt;/code&gt;
    &lt;subject&gt;
        &lt;identifier&gt;
            &lt;value value="X234567890" /&gt;
            &lt;assigner&gt;
                &lt;display value="Name einer privaten Krankenversicherung" /&gt;
            &lt;/assigner&gt;
        &lt;/identifier&gt;
    &lt;/subject&gt;
    &lt;enterer&gt;
        &lt;identifier&gt;
            &lt;system value="https://gematik.de/fhir/sid/telematik-id" /&gt;
            &lt;value value="3-15.2.1456789123.191" /&gt;
        &lt;/identifier&gt;
    &lt;/enterer&gt;
    &lt;enteredDate value="2022-06-01T07:13:00+05:00"/&gt;
    &lt;supportingInformation&gt;
        &lt;reference value="200.086.824.605.539.20"/&gt;
        &lt;type value="DAV-PKV-PR-ERP-AbgabedatenBundle"/&gt;
        &lt;display value="Abgabedatensatz" /&gt;
    &lt;/supportingInformation&gt;
&lt;/ChargeItem&gt;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Code</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Type Success</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>201</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Created<br>
<span class="small">Die Anfrage wurde erfolgreich bearbeitet.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Code</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Type Error</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>400</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bad Request<br>
<span class="small">Die Anfrage-Nachricht war fehlerhaft aufgebaut. Mögliche Gründe: Fehlender URL-Parameter task; Die übermittelte ChargeItem-Ressource ist nicht schema-konform.; Der übermittelte PKV-Abgabedatensatz ist nicht schema-konform.; Die Signatur des PKV-Abgabedatensatzes konnte nicht erfolgreich validiert werden.; Der referenzierte Task entspricht nicht den zulässigen FlowTypes.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>401</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unauthorized<br>
<span class="small">Die Anfrage kann nicht ohne gültige Authentifizierung durchgeführt werden. Wie die Authentifizierung durchgeführt werden soll, wird im „WWW-Authenticate“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>403</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbidden<br>
<span class="small">Die Anfrage wurde mangels Berechtigung des Clients nicht durchgeführt. Mögliche Gründe: Der authentifizierte Benutzer ist nicht berechtigt; Es liegt keine Einwilligung zum Speichern der Abrechnungsinformationen durch den Versicherten vor.; Fehlender URL-Parameter secret; Der in secret übermittelte Wert stimmt nicht mit dem Geheimnis in Task.secret überein.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>405</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Method Not Allowed<br>
<span class="small">Die Anfrage darf nur mit anderen HTTP-Methoden (zum Beispiel GET statt POST) gestellt werden. Gültige Methoden für die betreffende Ressource werden im „Allow“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>408</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Request Timeout<br>
<span class="small">Innerhalb der vom Server erlaubten Zeitspanne wurde keine vollständige Anfrage des Clients empfangen.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>409</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Conflict<br>
<span class="small">Die Anfrage wurde unter falschen Annahmen gestellt. Es wurde kein entsprechendes Task-Objekt mit dem Status Task.status = completed gefunden.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>429</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Too Many Requests<br>
<span class="small">Der Client hat zu viele Anfragen in einem bestimmten Zeitraum gesendet.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>500</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Server Errors<br>
<span class="small">Unerwarteter Serverfehler</span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_anwendungsfall_abrechnungsinformationen_abrufen"><a class="anchor" href="#_anwendungsfall_abrechnungsinformationen_abrufen"></a>Anwendungsfall Abrechnungsinformationen abrufen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Als Apotheker möchte ich eine von mir erstellte Abrechnungsinformation abrufen, um sie bearbeiten zu können oder sie zu kontrollieren. Falls die Abrechnung eine Korrektur benötigt, kann der Versicherte um eine Änderung des PKV-Abgabedatensatzes bitten. Liegen die Daten im System nicht mehr vor, übermittelt der Versicherte der Apotheke den AccessCode zum Ändern mittels einer Nachricht über das E-Rezept-FdV oder durch Anzeige zum Abscannen im E-Rezept-FdV.</p>
</div>
<div class="paragraph">
<p>Rückgabewert ist ein Bundle, welches das ChargeItem und den Abgabedatensatz, mit seiner Signatur im CAdES-Enveloping-Format, beinhaltet.</p>
</div>
<div class="paragraph">
<p>Der Aufruf erfolgt als http-<code>GET</code>-Operation auf die Ressource <code>/ChargeItem/'PrescriptionID'</code>. Im Aufruf muss das während der Authentisierung erhaltene ACCESS_TOKEN im http-Request-Header <code>Authorization</code> übergeben werden, der Fachdienst filtert die ChargeItem-Einträge nach der im ACCESS_TOKEN enthaltenen KVNR des Versicherten.</p>
</div>
<div class="paragraph">
<p><strong>Request</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">URI</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45?ac=777bea0e13cc9c42ceec14aec3ddee2263325dc2c6c699db115f58fe423607ea" class="bare">https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45?ac=777bea0e13cc9c42ceec14aec3ddee2263325dc2c6c699db115f58fe423607ea</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Method</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>GET</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">HTTP Header</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>Authorization: Bearer eyJraWQ.ewogImL2pA10Qql22ddtutrvx4FsDlz.rHQjEmB1lLmpqn9J</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Mit dem ACCESS_TOKEN im <code>Authorization</code>-Header weist sich der Zugreifende als Versicherter aus, im Token ist seine Versichertennummer enthalten. Die Base64-Darstellung des Tokens ist stark gekürzt.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>-</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">HTTP/1.1 200 OK
Content-Type: application/fhir+json;charset=utf-8

&lt;Bundle xmlns="http://hl7.org/fhir"&gt;
    &lt;id value="4d8684f1-e379-4cb2-adcb-41ab1a543206"/&gt;
    &lt;meta&gt;
        &lt;lastUpdated value="2022-06-14T13:54:15.203+00:00"/&gt;
    &lt;/meta&gt;
    &lt;type value="searchset"/&gt;
    &lt;total value="2"/&gt;
    &lt;entry&gt;
        &lt;fullUrl value="http://hapi.fhir.org/baseR4/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45"/&gt;
        &lt;resource&gt;
            &lt;ChargeItem xmlns="http://hl7.org/fhir"&gt;
                &lt;id value="abc825bc-bc30-45f8-b109-1b343fff5c45" /&gt;
                &lt;meta&gt;
                    &lt;profile value="https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_PR_ChargeItem\|1.0" /&gt;
                &lt;/meta&gt;
                &lt;identifier&gt;
                    &lt;system value="https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId" /&gt;
                    &lt;value value="200.086.824.605.539.20" /&gt;
                &lt;/identifier&gt;
                &lt;identifier&gt;
                    &lt;system value="https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_AccessCode" /&gt;
                    &lt;value value="777bea0e13cc9c42ceec14aec3ddee2263325dc2c6c699db115f58fe423607ea" /&gt;
                &lt;/identifier&gt;
                &lt;status value="billable" /&gt;
                &lt;code&gt;
                    &lt;coding&gt;
                        &lt;system value="http://terminology.hl7.org/CodeSystem/data-absent-reason" /&gt;
                        &lt;code value="not-applicable" /&gt;
                    &lt;/coding&gt;
                &lt;/code&gt;
                &lt;subject&gt;
                    &lt;identifier&gt;
                        &lt;value value="X234567890" /&gt;
                        &lt;assigner&gt;
                            &lt;display value="Name einer privaten Krankenversicherung" /&gt;
                        &lt;/assigner&gt;
                    &lt;/identifier&gt;
                &lt;/subject&gt;
                &lt;enterer&gt;
                    &lt;identifier&gt;
                        &lt;system value="https://gematik.de/fhir/sid/telematik-id" /&gt;
                        &lt;value value="3-15.2.1456789123.191" /&gt;
                    &lt;/identifier&gt;
                &lt;/enterer&gt;
                &lt;enteredDate value="2021-06-01T07:13:00+05:00" /&gt;
                &lt;supportingInformation&gt;
                    &lt;reference value="72bd741c-7ad8-41d8-97c3-9aabbdd0f5b4" /&gt;
                    &lt;display value="Abgabedatensatz" /&gt;
                &lt;/supportingInformation&gt;
            &lt;/ChargeItem&gt;
        &lt;/resource&gt;
    &lt;/entry&gt;
    &lt;entry&gt;
        &lt;resource&gt;
            &lt;Bundle xmlns="http://hl7.org/fhir"&gt;
                &lt;id value="ad80703d-8c62-44a3-b12b-2ea66eda0aa2" /&gt;
                &lt;meta&gt;
                    &lt;profile value="http://fhir.abda.de/eRezeptAbgabedaten/StructureDefinition/DAV-PKV-PR-ERP-AbgabedatenBundle\|1.1" /&gt;
                    &lt;tag&gt;
                        &lt;display value="Beispiel RezeptAbgabedatenPKV Bundle (FAM)" /&gt;
                    &lt;/tag&gt;
                &lt;/meta&gt;
                &lt;identifier&gt;
                    &lt;system value="https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId" /&gt;
                    &lt;value value="200.100.000.000.081.90" /&gt;
                &lt;/identifier&gt;
                &lt;type value="document" /&gt;
                &lt;timestamp value="2022-03-24T11:30:00Z" /&gt;
                &lt;entry&gt;
                    &lt;fullUrl value="urn:uuid:72183b44-61cf-4fe7-8f74-1e37d58fcea8" /&gt;
                    &lt;resource&gt;
                        &lt;Composition&gt;
                            &lt;id value="72183b44-61cf-4fe7-8f74-1e37d58fcea8" /&gt;
                            &lt;meta&gt;
                                &lt;profile value="http://fhir.abda.de/eRezeptAbgabedaten/StructureDefinition/DAV-PKV-PR-ERP-AbgabedatenComposition|1.1" /&gt;
                            &lt;/meta&gt;
                            &lt;status value="final" /&gt;
                            &lt;type&gt;
                                &lt;coding&gt;
                                    &lt;system value="http://fhir.abda.de/eRezeptAbgabedaten/CodeSystem/DAV-CS-ERP-CompositionTypes" /&gt;
                                    &lt;code value="ERezeptAbgabedaten" /&gt;
                                &lt;/coding&gt;
                            &lt;/type&gt;
                            &lt;date value="2022-03-24T11:30:00Z" /&gt;
                            &lt;author&gt;
                                &lt;reference value="urn:uuid:5dc67a4f-c936-4c26-a7c0-967673a70740" /&gt;
                            &lt;/author&gt;
                            &lt;title value="ERezeptAbgabedaten" /&gt;
                            &lt;section&gt;
                                &lt;title value="Abgabeinformationen" /&gt;
                                &lt;entry&gt;
                                    &lt;reference value="urn:uuid:335784b4-3f89-47cc-b32f-bc386a212e11" /&gt;
                                &lt;/entry&gt;
                            &lt;/section&gt;
                            &lt;section&gt;
                                &lt;title value="Apotheke" /&gt;
                                &lt;entry&gt;
                                    &lt;reference value="urn:uuid:5dc67a4f-c936-4c26-a7c0-967673a70740" /&gt;
                                &lt;/entry&gt;
                            &lt;/section&gt;
                        &lt;/Composition&gt;
                    &lt;/resource&gt;
                &lt;/entry&gt;
            ...
                &lt;signature&gt;
                    &lt;type&gt;
                        &lt;system value="urn:iso-astm:E1762-95:2013" /&gt;
                        &lt;code value="1.2.840.10065.1.12.1.1" /&gt;
                    &lt;/type&gt;
                    &lt;when value="2020-03-20T07:31:34.328+00:00" /&gt;
                    &lt;who&gt;
                        &lt;reference value="https://erp.zentral.erp.splitdns.ti-dienste.de/Device/ErxService" /&gt;
                    &lt;/who&gt;
                    &lt;sigFormat value="application/pkcs7-mime" /&gt;
                    &lt;data value="ABCmZ3J1bmQg...." /&gt;
                &lt;/signature&gt;
            &lt;/Bundle&gt;
        &lt;/entry&gt;
    &lt;/Bundle&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Aus Gründen der besseren Lesbarkeit ist das PKV-Abgabdedatenbundle hier nicht vollständig dargestellt und wurde mit <code>&#8230;&#8203;</code> abgekürzt.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Das <code>&lt;signature&gt;</code> Element enthält die Signatur des Bundles über alle enthaltenen Objekte als Enveloping-CAdES-Signatur in Base64-Codierung.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Success</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>200</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OK<br>
<span class="small">Die Anfrage wurde erfolgreich bearbeitet. Die angeforderte Ressource wird im ResponseBody bereitgestellt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Error</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>400</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bad Request <br>
<span class="small">Die Anfrage-Nachricht war fehlerhaft aufgebaut.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>401</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unauthorized<br>
<span class="small">Die Anfrage kann nicht ohne gültige Authentifizierung durchgeführt werden. Wie die Authentifizierung durchgeführt werden soll, wird im „WWW-Authenticate“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>403</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbidden<br>
<span class="small">Die Anfrage wurde mangels Berechtigung des Clients nicht durchgeführt, bspw. weil der authentifizierte Benutzer nicht berechtigt ist.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>404</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Not found<br>
<span class="small">Die adressierte Ressource wurde nicht gefunden, die übergebene ID ist ungültig.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>405</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Method Not Allowed<br>
<span class="small">Die Anfrage darf nur mit anderen HTTP-Methoden (zum Beispiel GET statt POST) gestellt werden. Gültige Methoden für die betreffende Ressource werden im „Allow“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>408</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Request Timeout<br>
<span class="small">Innerhalb der vom Server erlaubten Zeitspanne wurde keine vollständige Anfrage des Clients empfangen.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>410</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Gone<br>
<span class="small">Die angeforderte Ressource wird nicht länger bereitgestellt und wurde dauerhaft entfernt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>429</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Too Many Requests<br>
<span class="small">Der Client hat zu viele Anfragen in einem bestimmten Zeitraum gesendet.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>500</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Server Errors<br>
<span class="small">Unerwarteter Serverfehler</span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_anwendungsfall_pkv_abgabedatensatz_ändern"><a class="anchor" href="#_anwendungsfall_pkv_abgabedatensatz_ändern"></a>Anwendungsfall PKV-Abgabedatensatz ändern</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Als Apotheke möchte ich einen von mir erstellten PKV-Abgabedatensatz auf Wunsch des Versicherten ändern. Liegen die Daten im System nicht mehr vor, übermittelt der Versicherte der Apotheke den AccessCode zum Ändern mittels einer Nachricht über das E-Rezept-FdV oder durch Anzeige zum Abscannen im E-Rezept-FdV.
Der zuvor im E-Rezept-Fachdienst gespeicherte PKV-Abgabedatensatz wird überschrieben. Es werden keine älteren Versionen im E-Rezept-Fachdienst gespeichert.</p>
</div>
<div class="paragraph">
<p>Der Aufruf erfolgt als http-<code>PUT</code>-Operation auf die Ressource <code>/ChargeItem/'PrescriptionID'</code>. Im Aufruf muss das während der Authentisierung erhaltene ACCESS_TOKEN im http-Request-Header <code>Authorization</code> übergeben werden.</p>
</div>
<div class="paragraph">
<p><strong>Request</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">URI</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45?secret=c36ca26502892b371d252c99b496e31505ff449aca9bc69e231c58148f6233cf" class="bare">https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45?secret=c36ca26502892b371d252c99b496e31505ff449aca9bc69e231c58148f6233cf</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Method</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>PUT</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">HTTP Header</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>Authorization: Bearer eyJraWQ.ewogImL2pA10Qql22ddtutrvx4FsDlz.rHQjEmB1lLmpqn9J</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Mit dem ACCESS_TOKEN im <code>Authorization</code>-Header weist sich der Zugreifende als Versicherter aus, im Token ist seine Versichertennummer enthalten. Die Base64-Darstellung des Tokens ist stark gekürzt.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ChargeItem xmlns="http://hl7.org/fhir"&gt;
    &lt;id value="abc825bc-bc30-45f8-b109-1b343fff5c45" /&gt;
    &lt;meta&gt;
        &lt;profile value="https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_PR_ChargeItem|1.0" /&gt;
    &lt;/meta&gt;
    &lt;contained&gt;
        &lt;Binary&gt;
            &lt;id value="Abg456"/&gt;
            &lt;!--Hier kommt das Abgabdedatensatz-Bundle rein. Siehe https://simplifier.net/erezeptabgabedatenpkv --&gt;
        &lt;/Binary&gt;
    &lt;/contained&gt;
    &lt;identifier&gt;
        &lt;system value="https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId" /&gt;
        &lt;value value="200.086.824.605.539.20" /&gt;
    &lt;/identifier&gt;
    &lt;status value="billable" /&gt;
    &lt;code&gt;
        &lt;coding&gt;
            &lt;system value="http://terminology.hl7.org/CodeSystem/data-absent-reason" /&gt;
            &lt;code value="not-applicable" /&gt;
        &lt;/coding&gt;
    &lt;/code&gt;
    &lt;subject&gt;
        &lt;identifier&gt;
            &lt;value value="X234567890" /&gt;
            &lt;assigner&gt;
                &lt;display value="Name einer privaten Krankenversicherung" /&gt;
            &lt;/assigner&gt;
        &lt;/identifier&gt;
    &lt;/subject&gt;
    &lt;enterer&gt;
        &lt;identifier&gt;
            &lt;system value="https://gematik.de/fhir/sid/telematik-id" /&gt;
            &lt;value value="3-15.2.1456789123.191" /&gt;
        &lt;/identifier&gt;
    &lt;/enterer&gt;
    &lt;enteredDate value="2022-06-01T07:13:00+05:00"/&gt;
    &lt;supportingInformation&gt;
        &lt;reference value="#Abg456"/&gt;
        &lt;type value="DAV-PKV-PR-ERP-AbgabedatenBundle"/&gt;
        &lt;display value="Abgabedatensatz" /&gt;
    &lt;/supportingInformation&gt;
&lt;/ChargeItem&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
In <code>&lt;id value="Abg456"/&gt;</code> fügt die abgebende LEI ihren geänderten Abgabedatensatz ein.
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">HTTP/1.1 200 OK
Content-Type: application/fhir+xml;charset=utf-8

&lt;ChargeItem xmlns="http://hl7.org/fhir"&gt;
    &lt;id value="abc825bc-bc30-45f8-b109-1b343fff5c45" /&gt;
    &lt;meta&gt;
        &lt;profile value="https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_PR_ChargeItem\|1.0" /&gt;
        &lt;tag&gt;
            &lt;display value="Example of an ChargeItem." /&gt;
        &lt;/tag&gt;
    &lt;/meta&gt;
    &lt;identifier&gt;
        &lt;system value="https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId" /&gt;
        &lt;value value="200.086.824.605.539.20" /&gt;
    &lt;/identifier&gt;
    &lt;status value="billable" /&gt;
    &lt;code&gt;
        &lt;coding&gt;
            &lt;system value="http://terminology.hl7.org/CodeSystem/data-absent-reason" /&gt;
            &lt;code value="not-applicable" /&gt;
        &lt;/coding&gt;
    &lt;/code&gt;
    &lt;subject&gt;
        &lt;identifier&gt;
            &lt;value value="X234567890" /&gt;
            &lt;assigner&gt;
                &lt;display value="Name einer privaten Krankenversicherung" /&gt;
            &lt;/assigner&gt;
        &lt;/identifier&gt;
    &lt;/subject&gt;
    &lt;enterer&gt;
        &lt;identifier&gt;
            &lt;system value="https://gematik.de/fhir/sid/telematik-id" /&gt;
            &lt;value value="3-15.2.1456789123.191" /&gt;
        &lt;/identifier&gt;
    &lt;/enterer&gt;
    &lt;enteredDate value="2022-06-01T07:13:00+05:00"/&gt;
    &lt;supportingInformation&gt;
        &lt;reference value="200.086.824.605.539.20"/&gt;
        &lt;type value="DAV-PKV-PR-ERP-AbgabedatenBundle"/&gt;
        &lt;display value="Abgabedatensatz" /&gt;
    &lt;/supportingInformation&gt;
&lt;/ChargeItem&gt;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Success</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>200</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OK<br>
<span class="small">Die Anfrage wurde erfolgreich bearbeitet. Die angeforderte Ressource wird im ResponseBody bereitgestellt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Error</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>400</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bad Request <br>
<span class="small">Die Anfrage-Nachricht war fehlerhaft aufgebaut.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>401</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unauthorized<br>
<span class="small">Die Anfrage kann nicht ohne gültige Authentifizierung durchgeführt werden. Wie die Authentifizierung durchgeführt werden soll, wird im „WWW-Authenticate“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>403</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbidden<br>
<span class="small">Die Anfrage wurde mangels Berechtigung des Clients nicht durchgeführt, bspw. weil der authentifizierte Benutzer nicht berechtigt ist oder weil keine Einwilligung vorliegt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>404</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Not found<br>
<span class="small">Die adressierte Ressource wurde nicht gefunden, die übergebene ID ist ungültig.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>405</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Method Not Allowed<br>
<span class="small">Die Anfrage darf nur mit anderen HTTP-Methoden (zum Beispiel GET statt POST) gestellt werden. Gültige Methoden für die betreffende Ressource werden im „Allow“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>408</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Request Timeout<br>
<span class="small">Innerhalb der vom Server erlaubten Zeitspanne wurde keine vollständige Anfrage des Clients empfangen.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>410</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Gone<br>
<span class="small">Die angeforderte Ressource wird nicht länger bereitgestellt und wurde dauerhaft entfernt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>429</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Too Many Requests<br>
<span class="small">Der Client hat zu viele Anfragen in einem bestimmten Zeitraum gesendet.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>500</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Server Errors<br>
<span class="small">Unerwarteter Serverfehler</span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_anwendungsfall_abrechnungsinformationen_durch_den_versicherten_abrufen"><a class="anchor" href="#_anwendungsfall_abrechnungsinformationen_durch_den_versicherten_abrufen"></a>Anwendungsfall Abrechnungsinformationen durch den Versicherten abrufen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Als Versicherter möchte ich auf meine Abrechnungsinformationen zugreifen und diese in der E-Rezept-App einsehen können. Sind die Abrechunngsinformationen nicht bekannt (z.B. beim Wechsel des Smartphones), können diese mit einem GET-Befehl abgerufen werden. Werden ein oder mehrere ChargeItems gefunden, erfolgt die Rückgabe als Liste aller gefundenen ChargeItems ohne die im ChargeItem enthaltenen Referenzen.</p>
</div>
<div class="paragraph">
<p>Der Aufruf erfolgt als http-<code>GET</code>-Operation auf die Ressource <code>/ChargeItem</code>.</p>
</div>
<div class="paragraph">
<p><strong>Request</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">URI</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://erp.zentral.erp.splitdns.ti-dienste.de/ChargeItem/" class="bare">https://erp.zentral.erp.splitdns.ti-dienste.de/ChargeItem/</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Method</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>GET</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">HTTP Header</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>Authorization: Bearer eyJraWQ.ewogImL2pA10Qql22ddtutrvx4FsDlz.rHQjEmB1lLmpqn9J</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Mit dem ACCESS_TOKEN im <code>Authorization</code>-Header weist sich der Zugreifende als Versicherter aus, im Token ist seine Versichertennummer enthalten. Die Base64-Darstellung des Tokens ist stark gekürzt.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>-</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">HTTP/1.1 200 OK
Content-Type: application/fhir+json;charset=utf-8

{
  "resourceType": "Bundle",
  "id": "200e3c55-b154-4335-a0ec-65addd39a3b6",
  "meta": {
    "lastUpdated": "2021-09-02T11:38:42.557+00:00"
  },
  "type": "searchset",
  "total": 2,
  "entry": [ {
    "fullUrl": "http://hapi.fhir.org/baseR4/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45",
    "resource": {
    "resourceType": "ChargeItem",
    "id": "abc825bc-bc30-45f8-b109-1b343fff5c45",
    "meta": {
        "profile":  [
            "https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_PR_ChargeItem\|1.0"
        ]
    },
    "status": "billable",
    "extension":  [
        {
            "url": "https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_EX_MarkingFlag",
            "extension":  [
                {
                    "url": "insuranceProvider",
                    "valueBoolean": false
                },
                {
                    "url": "subsidy",
                    "valueBoolean": false
                },
                {
                    "url": "taxOffice",
                    "valueBoolean": false
                }
            ]
        }
    ],
    "enterer": {
        "identifier": {
            "system": "https://gematik.de/fhir/sid/telematik-id",
            "value": "3-15.2.1456789123.191"
        }
    },
    "identifier":  [
        {
            "system": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId",
            "value": "200.086.824.605.539.20"
        },
        {
            "system": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_AccessCode",
            "value": "777bea0e13cc9c42ceec14aec3ddee2263325dc2c6c699db115f58fe423607ea"
        }
    ],
    "code": {
        "coding":  [
            {
                "code": "not-applicable",
                "system": "http://terminology.hl7.org/CodeSystem/data-absent-reason"
            }
        ]
    },
    "subject": {
        "identifier": {
            "value": "X234567890",
            "assigner": {
                "display": "Name einer privaten Krankenversicherung"
            }
        }
    },
    "enteredDate": "2021-06-01T07:13:00+05:00",
    "supportingInformation":  [
        {
            "reference": "urn:uuid:0428d416-149e-48a4-977c-394887b3d85c",
            "display": "E-Rezept"
        },
        {
            "reference": "72bd741c-7ad8-41d8-97c3-9aabbdd0f5b4",
            "display": "Abgabedatensatz"
        },
        {
            "reference": "200.086.824.605.539.20",
            "display": "Quittung"
        }
    ]
},
    "search": {
      "mode": "match"
    }
  },{
    "fullUrl": "http://hapi.fhir.org/baseR4/ChargeItem/der124bc-bc30-45f8-b109-4h474wer2h89",
    "resource": {
    "resourceType": "ChargeItem",
    "id": "der124bc-bc30-45f8-b109-4h474wer2h89",
    "meta": {
        "profile":  [
            "https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_PR_ChargeItem\|1.0"
        ]
    },
    "status": "billable",
    "extension":  [
        {
            "url": "https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_EX_MarkingFlag",
            "extension":  [
                {
                    "url": "insuranceProvider",
                    "valueBoolean": false
                },
                {
                    "url": "subsidy",
                    "valueBoolean": false
                },
                {
                    "url": "taxOffice",
                    "valueBoolean": false
                }
            ]
        }
    ],
    "enterer": {
        "identifier": {
            "system": "https://gematik.de/fhir/sid/telematik-id",
            "value": "3-15.2.1456789123.191"
        }
    },
    "identifier":  [
        {
            "system": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId",
            "value": "200.086.824.605.539.20"
        },
        {
            "system": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_AccessCode",
            "value": "888bea0e13cc9c42ceec14aec3ddee2263325dc2c6c699db115f58fe423607ea"
        }
    ],
    "code": {
        "coding":  [
            {
                "code": "not-applicable",
                "system": "http://terminology.hl7.org/CodeSystem/data-absent-reason"
            }
        ]
    },
    "subject": {
        "identifier": {
            "value": "X234567890",
            "assigner": {
                "display": "Name einer privaten Krankenversicherung"
            }
        }
    },
    "enteredDate": "2021-06-01T07:13:00+05:00",
    "supportingInformation":  [
        {
            "reference": "urn:uuid:0428d416-149e-48a4-977c-394887b3d85c",
            "display": "E-Rezept"
        },
        {
            "reference": "72bd741c-7ad8-41d8-97c3-9aabbdd0f5b4",
            "display": "Abgabedatensatz"
        },
        {
            "reference": "200.086.824.605.539.20",
            "display": "Quittung"
        }
    ]
  }
  } ]
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Die angegebenen Referenzen werden in diesem Request nicht mitgeliefert. Im folgenden Request der das Chargeitem nach der Id abfragt sind diese Informationen dagegen enthalten.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Sind die ChargeItem-Instanzen in der App bekannt, kann direkt auf eine konkrete Instanz zugegriffen werden. Es wird das ChargeItem mit den referenzierten Bundles zurückgegeben.</p>
</div>
<div class="paragraph">
<p>Rückgabewert ist ein Bundle, welches das ChargeItem, den Verordnungsdatensatz, den Abgabedatensatz und die Quittung beinhaltet. An den drei Abrechnungsdatensätzen (Verordnungs-, Abgabedatensatz und an der Quittung hängt die Signatur im CAdES-Enveloping-Format).</p>
</div>
<div class="paragraph">
<p><strong>Request</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">URI</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45" class="bare">https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Method</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>GET</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">HTTP Header</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>Authorization: Bearer eyJraWQ.ewogImL2pA10Qql22ddtutrvx4FsDlz.rHQjEmB1lLmpqn9J</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Mit dem ACCESS_TOKEN im <code>Authorization</code>-Header weist sich der Zugreifende als Versicherter aus, im Token ist seine Versichertennummer enthalten. Die Base64-Darstellung des Tokens ist stark gekürzt.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></th>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">HTTP/1.1 200 OK
Content-Type: application/fhir+json;charset=utf-8

{
    "resourceType": "Bundle",
    "id": "200e3c55-b154-4335-a0ec-65addd39a3b6",
    "meta": {
        "lastUpdated": "2021-09-02T11:38:42.557+00:00"
    },
    "type": "searchset",
    "total": 4,
    "entry": [
        {
            "fullUrl": "https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45",
            "resource": {
                "resourceType": "ChargeItem",
                "id": "abc825bc-bc30-45f8-b109-1b343fff5c45",
                "meta": {
                    "profile": [
                        "https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_PR_ChargeItem\|1.0"
                    ]
                },
                "extension": [
                    {
                        "url": "https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_EX_MarkingFlag",
                        "extension": [
                            {
                                "url": "insuranceProvider",
                                "valueBoolean": false
                            },
                            {
                                "url": "subsity",
                                "valueBoolean": false
                            },
                            {
                                "url": "taxOffice",
                                "valueBoolean": false
                            }
                        ]
                    }
                ],
                "identifier": {
                    "system": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId",
                    "value": "200.086.824.605.539.20"
                },
                "status": "billable",
                "code": {
                    "coding": [
                        {
                            "system": "http://terminology.hl7.org/CodeSystem/data-absent-reason",
                            "code": "not-applicable"
                        }
                    ]
                },
                "subject": {
                    "identifier": {
                        "system": "http://fhir.de/sid/pkv/kvid-10",
                        "value": "X234567890"
                    }
                },
                "enterer": {
                    "identifier": {
                        "system": "https://gematik.de/fhir/sid/telematik-id",
                        "value": "3-SMC-B-Testkarte-883110000095957"
                    }
                },
                "enteredDate": "2021-06-01T07:13:00+05:00",
                "supportingInformation": [
                    {
                        "reference": "f8c2298f-7c00-4a68-af29-8a2862d55d43",
                        "type": "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle",
                        "display": "E-Rezept"
                    },
                    {
                        "reference": "ad80703d-8c62-44a3-b12b-2ea66eda0aa2",
                        "type": "http://fhir.abda.de/eRezeptAbgabedaten/StructureDefinition/DAV-PKV-PR-ERP-AbgabedatenBundle",
                        "display": "Abgabedatensatz"
                    },
                    {
                        "reference": "dffbfd6a-5712-4798-bdc8-07201eb77ab8",
                        "type": "https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_Bundle|1.2",
                        "display": "Quittung"
                    }
                ]
            }
        },
        { /* Hier startet das Verordnungs-Bundle */
            "resource": {
                "resourceType": "Bundle",
                "id": "f8c2298f-7c00-4a68-af29-8a2862d55d43",
                "meta": {
                    "lastUpdated": "2020-02-03T12:30:02Z",
                    "profile": [
                        "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Bundle\|1.1.0"
                    ]
                },
                "identifier": {
                    "system": "urn:ietf:rfc:3986",
                    "value": "281a985c-f25b-4aae-91a6-41ad744080b0"
                },
                "type": "document",
                "timestamp": "2020-02-03T12:30:02Z",
                "entry": [
                    {
                        "fullUrl": "http://pvs.praxis-topp-gluecklich.local/fhir/Composition/ed52c1e3-b700-4497-ae19-b23744e29876",
                        "resource": {
                            "resourceType": "Composition",
                            "id": "ed52c1e3-b700-4497-ae19-b23744e29876",
                            "meta": {
                                "profile": [
                                    "https://fhir.kbv.de/StructureDefinition/KBV_PR_ERP_Composition\|1.1.0"
                 ...
                                ]
                            }
                        }
                    }
                ],
                "signature": {
                "type": {
                        "system": "http://hl7.org/fhir/ValueSet/signature-type",
                        "code": "1.2.840.10065.1.12.1.1"
                    },
                    "when": "2020-03-20T07:31:34.328+00:00",
                    "who": "https://prescriptionserver.telematik/signature/verification",
                    "data": "eyJ0eXAiOiJKV1MiLCJhbGciOiJFUzI1NiIsIng1dSI6Imh0dHBzOi8vcHJlc2NyaXB0aW9uc2VydmVyLnRlbGVtYXRpay9zaWduYXR1cmUvY2VydGlmaWNhdGUifQ
                .
                eyJyZXNvdXJjZVR5cGUiOiJCdW5kbGUiLCJpZCI6ImY4YzIyOThmLTdjMDAtNGE2OC1hZjI5LThhMjg2MmQ1NWQ0MyIsImlkZW50aWZpZXIiOnsic3lzdGVtIjoiaHR0cHM6Ly9nZW1hdGlrLmRlL1ZhbHVlU2V0L0VSWF9QUkVTQ 1JJUFRJT05fSUQiLCJ2YWx1ZSI6Ik0xNi4xMjMuNDU2Ljc4OS4xMjMuMTMifSwidHlwZSI6ImRvY3VtZW50IiwiZW50cnkiOlt7ImZ1bGxVcmwiOiJodHRwOi8vcHZzLnByYXhpcy10b3BwLWdsdWVja2xpY2gubG9jYWwvZmhpci 9Db21wb3NpdGlvbi9lZDUyYzFlMy1iNzAwLTQ0OTctYWUxOS1iMjM3NDRlMjk4NzYiLCJyZXNvdXJjZSI6eyJyZXNvdXJjZVR5cGUiOiJDb21wb3NpdGlvbiJ9fSx7ImZ1bGxVcmwiOiJodHRwOi8vcHZzLnByYXhpcy10b3BwLWd sdWVja2xpY2gubG9jYWwvZmhpci9NZWRpY2F0aW9uUmVxdWVzdC9lOTMwY2RlZS05ZWI1LTRiNDQtODhiNS0yYTE4YjY5ZjNiOWEiLCJyZXNvdXJjZSI6eyJyZXNvdXJjZVR5cGUiOiJNZWRpY2F0aW9uUmVxdWVzdCJ9fV19
                . SSBhbSBhIHNpZ25hdHVyZSE="
                }
            }
        },
        { /* Hier startet das Abgabdedaten-Bundle */
            "resource": {
                "resourceType": "Bundle",
                "id": "ad80703d-8c62-44a3-b12b-2ea66eda0aa2",
                "meta": {
                    "profile": [
                        "http://fhir.abda.de/eRezeptAbgabedaten/StructureDefinition/DAV-PKV-PR-ERP-AbgabedatenBundle\|1.1"
                    ],
                    "tag": [
                        {
                            "display": "Beispiel RezeptAbgabedatenPKV Bundle (FAM)"
                        },
                        {
                            "display": "ACHTUNG! Der fachlich korrekte Inhalt der Beispielinstanz kann nicht gewährleistet werden. Wir sind jederzeit dankbar für Hinweise auf Fehler oder für Verbesserungsvorschläge."
                        }
                    ]
                },
                "type": "document",
                "identifier": {
                    "system": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId",
                    "value": "200.100.000.000.081.90"
                },
                "timestamp": "2022-03-24T11:30:00Z",
                "entry": [
                    {
                        "resource": {
                            "resourceType": "Composition",
                            "id": "72183b44-61cf-4fe7-8f74-1e37d58fcea8",
                            "meta": {
                                "profile": [
                                    "http://fhir.abda.de/eRezeptAbgabedaten/StructureDefinition/DAV-PKV-PR-ERP-AbgabedatenComposition\|1.1"
                                ],
                                ...
                            }
                        }
                    }
                ],
                "signature": {
                    "type": {
                        "system": "http://hl7.org/fhir/ValueSet/signature-type",
                        "code": "1.2.840.10065.1.12.1.1"
                    },
                    "when": "2020-03-20T07:31:34.328+00:00",
                    "who": "https://prescriptionserver.telematik/signature/verification",
                    "data": "eyJ0eXAiOiJKV1MiLCJhbGciOiJFUzI1NiIsIng1dSI6Imh0dHBzOi8vcHJlc2NyaXB0aW9uc2VydmVyLnRlbGVtYXRpay9zaWduYXR1cmUvY2VydGlmaWNhdGUifQ
                    .
                    eyJyZXNvdXJjZVR5cGUiOiJCdW5kbGUiLCJpZCI6ImY4YzIyOThmLTdjMDAtNGE2OC1hZjI5LThhMjg2MmQ1NWQ0MyIsImlkZW50aWZpZXIiOnsic3lzdGVtIjoiaHR0cHM6Ly9nZW1hdGlrLmRlL1ZhbHVlU2V0L0VSWF9QUkVTQ 1JJUFRJT05fSUQiLCJ2YWx1ZSI6Ik0xNi4xMjMuNDU2Ljc4OS4xMjMuMTMifSwidHlwZSI6ImRvY3VtZW50IiwiZW50cnkiOlt7ImZ1bGxVcmwiOiJodHRwOi8vcHZzLnByYXhpcy10b3BwLWdsdWVja2xpY2gubG9jYWwvZmhpci 9Db21wb3NpdGlvbi9lZDUyYzFlMy1iNzAwLTQ0OTctYWUxOS1iMjM3NDRlMjk4NzYiLCJyZXNvdXJjZSI6eyJyZXNvdXJjZVR5cGUiOiJDb21wb3NpdGlvbiJ9fSx7ImZ1bGxVcmwiOiJodHRwOi8vcHZzLnByYXhpcy10b3BwLWd sdWVja2xpY2gubG9jYWwvZmhpci9NZWRpY2F0aW9uUmVxdWVzdC9lOTMwY2RlZS05ZWI1LTRiNDQtODhiNS0yYTE4YjY5ZjNiOWEiLCJyZXNvdXJjZSI6eyJyZXNvdXJjZVR5cGUiOiJNZWRpY2F0aW9uUmVxdWVzdCJ9fV19
                    . SSBhbSBhIHNpZ25hdHVyZSE="
                }
            }
        },
        { /* Hier startet das Quittings-Bundle */
            "resource": {
                "resourceType": "Bundle",
                "id": "dffbfd6a-5712-4798-bdc8-07201eb77ab8",
                "meta": {
                    "profile": [
                        "https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_Bundle\|1.2"
                    ],
                    "tag": [
                        {
                            "display": "Receipt Bundle 'Quittung' for completed dispensation of a prescription"
                        }
                    ]
                },
                "type": "document",
                "identifier": {
                    "system": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId",
                    "value": "200.000.033.491.280.78"
                },
                "timestamp": "2022-03-18T15:28:00+00:00",
                "entry": [
                    {
                        "fullUrl": "urn:uuid:c624cf47-e235-4624-af71-0a09dc9254dc",
                        "resource": {
                            "resourceType": "Composition",
                            "id": "c624cf47-e235-4624-af71-0a09dc9254dc",
                            "meta": {
                                "profile": [
                                    "https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_Composition\|1.2"
                                ]
                            },
                            "status": "final",
                            "title": "Quittung",
                            "extension": [
                                {
                                    "url": "https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_EX_Beneficiary",
                                    "valueIdentifier": {
                                        "system": "https://gematik.de/fhir/sid/telematik-id",
                                        "value": "3-SMC-B-Testkarte-883110000129070"
                                    }
                                }
                            ],
                           ...
                        }
                    },
                ],
                "signature": {
                    "type": [
                        {
                            "system": "urn:iso-astm:E1762-95:2013",
                            "code": "1.2.840.10065.1.12.1.1"
                        }
                    ],
                    "when": "2022-03-18T15:28:00+00:00",
                    "who": {
                        "reference": "https://erp.zentral.erp.splitdns.ti-dienste.de/Device/1"
                    },
                    "sigFormat": "application/pkcs7-mime",
                    "data": "MIII FQYJ KoZI hvcN AQcC oIII BjCC CAIC AQEx DzAN Bglg hkgB ZQME AgEF ADAL"
                }
            }
        }
    ]
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Das <code>signature</code> Element enthält die Signatur des Bundles über alle enthaltenen Objekte als Enveloping-CAdES-Signatur in Base64-Codierung.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Aus Gründen der besseren Lesbarkeit ist das Bundle hier nicht vollständig dargestellt und wurde mit <code>&#8230;&#8203;</code> abgekürzt
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Success</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>200</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OK<br>
<span class="small">Die Anfrage wurde erfolgreich bearbeitet. Die angeforderte Ressource wird im ResponseBody bereitgestellt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Error</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>400</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bad Request <br>
<span class="small">Die Anfrage-Nachricht war fehlerhaft aufgebaut.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>401</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unauthorized<br>
<span class="small">Die Anfrage kann nicht ohne gültige Authentifizierung durchgeführt werden. Wie die Authentifizierung durchgeführt werden soll, wird im „WWW-Authenticate“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>403</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbidden<br>
<span class="small">Die Anfrage wurde mangels Berechtigung des Clients nicht durchgeführt, bspw. weil der authentifizierte Benutzer nicht berechtigt ist.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>404</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Not found<br>
<span class="small">Die adressierte Ressource wurde nicht gefunden, die übergebene ID ist ungültig.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>405</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Method Not Allowed<br>
<span class="small">Die Anfrage darf nur mit anderen HTTP-Methoden (zum Beispiel GET statt POST) gestellt werden. Gültige Methoden für die betreffende Ressource werden im „Allow“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>408</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Request Timeout<br>
<span class="small">Innerhalb der vom Server erlaubten Zeitspanne wurde keine vollständige Anfrage des Clients empfangen.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>410</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Gone<br>
<span class="small">Die angeforderte Ressource wird nicht länger bereitgestellt und wurde dauerhaft entfernt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>429</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Too Many Requests<br>
<span class="small">Der Client hat zu viele Anfragen in einem bestimmten Zeitraum gesendet.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>500</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Server Errors<br>
<span class="small">Unerwarteter Serverfehler</span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_anwendungsfall_abrechnungsinformationen_durch_den_versicherten_ändern"><a class="anchor" href="#_anwendungsfall_abrechnungsinformationen_durch_den_versicherten_ändern"></a>Anwendungsfall Abrechnungsinformationen durch den Versicherten ändern</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Als Versicherter möchte ich vorhandene Abrechnungsinformationen ändern, indem ich markiere, ob ich meine Abrechnungsdaten bei Abrechnungsstellen eingereicht habe.</p>
</div>
<div class="paragraph">
<p>Der Aufruf erfolgt als http-<code>PATCH</code>-Operation auf die Ressource <code>/ChargeItem</code>.</p>
</div>
<div class="paragraph">
<p><strong>Request</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">URI</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45" class="bare">https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Method</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>PATCH</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">HTTP Header</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>Authorization: Bearer eyJraWQ.ewogImL2pA10Qql22ddtutrvx4FsDlz.rHQjEmB1lLmpqn9J
Content-Type: application/fhir+json; charset=utf-8</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Mit dem ACCESS_TOKEN im <code>Authorization</code>-Header weist sich der Zugreifende als Versicherter aus, im Token ist seine Versichertennummer enthalten. Die Base64-Darstellung des Tokens ist stark gekürzt.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "operation",
      "part": [
        {
          "name": "type",
          "valueCode": "add"
        },
        {
          "name": "path",
          "valueString": "ChargeItem.extension('https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_EX_MarkingFlag').extension('taxOffice')"
        },
        {
          "name": "name",
          "valueString": "valueBoolean"
        },
        {
          "name": "value",
          "valueBoolean": true
        }
      ]
    },
    {
      "name": "operation",
      "part": [
        {
          "name": "type",
          "valueCode": "add"
        },
        {
          "name": "path",
           "valueString": "ChargeItem.extension('https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_EX_MarkingFlag').extension('insuranceProvider')"
        },
        {
          "name": "name",
          "valueString": "valueBoolean"
        },
        {
          "name": "value",
          "valueBoolean": false
        }
      ]
    }
  ]
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
In <code>"valueString": "ChargeItem.extension('https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_EX_MarkingFlag').extension('taxOffice')"</code> ist der Pfadanfang, an dem das zu ändernde Attribut hängt definiert.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Im <code>"valueString": "ChargeItem.extension('https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_EX_MarkingFlag').extension('insuranceProvider')"</code> Element, welches geändert werden soll.
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">HTTP/1.1 200 OK
Content-Type: application/fhir+json;charset=utf-8

{
  "resourceType": "ChargeItem",
  "id": "2872799",
  "meta": {
    "versionId": "1",
    "lastUpdated": "2022-04-05T11:36:19.491+00:00",
    "source": "#V4se2kvNDlSKuefe",
    "profile": [ "https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_PR_ChargeItem" ]
  },
  "extension": [ {
    "url": "https://gematik.de/fhir/erpchrg/StructureDefinition/GEM_ERPCHRG_EX_MarkingFlag",
    "extension": [ {
      "url": "insuranceProvider",
      "valueBoolean": true
    }, {
      "url": "subsity",
      "valueBoolean": false
    }, {
      "url": "taxOffice",
      "valueBoolean": true
    } ]
  } ],
  "identifier": [ {
    "system": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_PrescriptionId",
    "value": "200.086.824.605.539.20"
  }, {
    "system": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_AccessCode",
    "value": "555bjf73jr8d9si2ceec14aec3ddee2263325dc2c6c699db115f58fe423607ea"
  } ],
  "status": "billable",
  "code": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/data-absent-reason",
      "code": "not-applicable"
    } ]
  },
  "subject": {


    "identifier": {
      "system": "http://fhir.de/sid/pkv/kvid-10",
      "value": "X234567890"
    }
  },
  "enterer": {
    "identifier": {
      "system": "https://gematik.de/fhir/sid/telematik-id",
      "value": "3-SMC-B-Testkarte-883110000095957"
    }
  },
  "enteredDate": "2021-06-01T07:13:00+05:00",
  "supportingInformation": [ {
    "reference": "Bundle/0428d416-149e-48a4-977c-394887b3d85c",
    "display": "E-Rezept"
  }, {
    "reference": "Bundle/72bd741c-7ad8-41d8-97c3-9aabbdd0f5b4",
    "display": "Abgabedatensatz"
  }, {
    "reference": "Bundle/200.086.824.605.539.20",
    "display": "Quittung"
  } ]
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Success</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>200</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OK<br>
<span class="small">Die Anfrage wurde erfolgreich bearbeitet.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Error</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>400</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bad Request <br>
<span class="small">Die Anfrage-Nachricht war fehlerhaft aufgebaut.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>401</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unauthorized<br>
<span class="small">Die Anfrage kann nicht ohne gültige Authentifizierung durchgeführt werden. Wie die Authentifizierung durchgeführt werden soll, wird im „WWW-Authenticate“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>403</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbidden<br>
<span class="small">Die Anfrage wurde mangels Berechtigung des Clients nicht durchgeführt, bspw. weil der authentifizierte Benutzer nicht berechtigt ist.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>404</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Not found<br>
<span class="small">Die adressierte Ressource wurde nicht gefunden, die übergebene ID ist ungültig.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>405</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Method Not Allowed<br>
<span class="small">Die Anfrage darf nur mit anderen HTTP-Methoden (zum Beispiel GET statt POST) gestellt werden. Gültige Methoden für die betreffende Ressource werden im „Allow“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>429</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Too Many Requests<br>
<span class="small">Der Client hat zu viele Anfragen in einem bestimmten Zeitraum gesendet.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>500</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Server Errors<br>
<span class="small">Unerwarteter Serverfehler</span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_anwendungsfall_löschen_der_abrechnungsinformationen_durch_den_versicherten"><a class="anchor" href="#_anwendungsfall_löschen_der_abrechnungsinformationen_durch_den_versicherten"></a>Anwendungsfall Löschen der Abrechnungsinformationen durch den Versicherten</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Als Versicherter möchte ich eine durch die Apotheke eingestellte Abrechnungsinformation löschen. Das Löschen erfolgt unwiederbringlich.</p>
</div>
<div class="paragraph">
<p>Der Aufruf erfolgt als http-<code>DELETE</code>-Operation auf die Ressource <code>/ChargeItem</code>. Im Aufruf muss das während der Authentisierung erhaltene ACCESS_TOKEN im http-Request-Header <code>Authorization</code> übergeben werden, der Fachdienst filtert die Consent-Einträge nach der im ACCESS_TOKEN enthaltenen KVNR des Versicherten.</p>
</div>
<div class="paragraph">
<p><strong>Request</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">URI</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45" class="bare">https://prescriptionserver.telematik/ChargeItem/abc825bc-bc30-45f8-b109-1b343fff5c45</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Method</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DELETE</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">HTTP Header</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>Authorization: Bearer eyJraWQ.ewogImL2pA10Qql22ddtutrvx4FsDlz.rHQjEmB1lLmpqn9J
X-AccessCode: 777bea0e13cc9c42ceec14aec3ddee2263325dc2c6c699db115f58fe423607ea</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Mit dem ACCESS_TOKEN im <code>Authorization</code>-Header weist sich der Zugreifende als Versicherter aus, im Token ist seine Versichertennummer enthalten. Die Base64-Darstellung des Tokens ist stark gekürzt.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></th>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">HTTP/1.1 204 No Content</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Success</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>204</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No Content<br>
<span class="small">Die Anfrage wurde erfolgreich bearbeitet. Die Response enthält jedoch keine Daten.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type Error</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>400</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bad Request <br>
<span class="small">Die Anfrage-Nachricht war fehlerhaft aufgebaut.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>401</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unauthorized<br>
<span class="small">Die Anfrage kann nicht ohne gültige Authentifizierung durchgeführt werden. Wie die Authentifizierung durchgeführt werden soll, wird im „WWW-Authenticate“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>403</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbidden<br>
<span class="small">Die Anfrage wurde mangels Berechtigung des Clients nicht durchgeführt, bspw. weil der authentifizierte Benutzer nicht berechtigt ist.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>404</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Not found<br>
<span class="small">Die adressierte Ressource wurde nicht gefunden, die übergebene ID ist ungültig.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>405</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Method Not Allowed<br>
<span class="small">Die Anfrage darf nur mit anderen HTTP-Methoden (zum Beispiel GET statt POST) gestellt werden. Gültige Methoden für die betreffende Ressource werden im „Allow“-Header-Feld der Antwort übermittelt.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>429</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Too Many Requests<br>
<span class="small">Der Client hat zu viele Anfragen in einem bestimmten Zeitraum gesendet.</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>500</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Server Errors<br>
<span class="small">Unerwarteter Serverfehler</span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright &copy; <script>document.write(new Date().getFullYear())</script> gematik GmbH</p>
  <p>Generated using Antora and Asciidoc.</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
